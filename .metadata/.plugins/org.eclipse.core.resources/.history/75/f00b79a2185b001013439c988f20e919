package eurofoods;

public class Discount {
    
    private String title;
    private String info;
    private int value;

    public Discount(String title, String info, int value) {
        this.title = title;
        this.info = info;
        this.value = value;
    }

    public String getTitle() {
        return title;
    }

    public void setTitle(String title) {
        this.title = title;
    }

    public String getInfo() {
        return info;
    }

    public void setInfo(String info) {
        this.info = info;
    }

    public float getValue() {
        return value;
    }

    public void setValue(int value) {
        this.value = value;
    }
    
    public float calculateValue(Account c) {
        /* Math based on user history, date of registration, 
           special event values, etc. */
        return this.value;
    }

    public final double calculateNewPrice(double price) throws DiscountException, 
    ArithmeticException {
    	
    	double discountAmount = (price * value) / 100;
        double newPrice = price - discountAmount;
        double priceDifference = (price - newPrice);
        
        try {
            if (price == 0) {
                throw new ArithmeticException("Zero price");
            	}

            if (value < 0) {
                throw new DiscountException("Value is less than zero:", value);
            	}
            if (priceDifference > 400) {
            	throw new DiscountException()("Price with discount "
            			+ "has a difference more than 400 hrn."
            			+ "Apply a smaller discount for this product", priceDifference);
            	}
        	} 	
        	catch (ArithmeticException | DiscountException e) {
            System.out.println("Discount can't be applied. " +e);
        	}
            finally
            {
            return newPrice;
            }
        
    }
}
